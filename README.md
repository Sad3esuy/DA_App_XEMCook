# üç≥ XEMCook - ·ª®ng d·ª•ng Chia s·∫ª C√¥ng th·ª©c N·∫•u ƒÉn

![Flutter Version](https://img.shields.io/badge/Flutter-3.24.0+-02569B?logo=flutter)
![Dart Version](https://img.shields.io/badge/Dart-3.5.0+-0175C2?logo=dart)
![Node.js Version](https://img.shields.io/badge/Node.js-18.0+-339933?logo=node.js)

**XEMCook** l√† n·ªÅn t·∫£ng m·∫°ng x√£ h·ªôi chia s·∫ª c√¥ng th·ª©c n·∫•u ƒÉn, n∆°i m·ªçi ng∆∞·ªùi c√≥ th·ªÉ kh√°m ph√°, l∆∞u tr·ªØ, v√† chia s·∫ª nh·ªØng m√≥n ƒÉn y√™u th√≠ch. ·ª®ng d·ª•ng k·∫øt h·ª£p gi·ªØa t√≠nh nƒÉng m·∫°ng x√£ h·ªôi v√† qu·∫£n l√Ω c√¥ng th·ª©c c√° nh√¢n, mang ƒë·∫øn tr·∫£i nghi·ªám n·∫•u ƒÉn th√∫ v·ªã v√† k·∫øt n·ªëi c·ªông ƒë·ªìng ƒëam m√™ ·∫©m th·ª±c.

## ‚ú® T√≠nh nƒÉng ch√≠nh

### üè† Trang ch·ªß & Kh√°m ph√°
- **Feed ƒë·ªông**: Xem c√¥ng th·ª©c m·ªõi nh·∫•t t·ª´ c·ªông ƒë·ªìng
- **M√≥n ƒÉn trong ng√†y**: G·ª£i √Ω c√¥ng th·ª©c hot trends
- **ƒê·∫ßu b·∫øp n·ªïi b·∫≠t**: Kh√°m ph√° c√°c chef c√≥ nhi·ªÅu followers
- **Danh m·ª•c phong ph√∫**: D·ªÖ d√†ng t√¨m m√≥n ƒÉn theo lo·∫°i

### üìñ Qu·∫£n l√Ω C√¥ng th·ª©c
- **T·∫°o & Ch·ªânh s·ª≠a**: Th√™m c√¥ng th·ª©c v·ªõi ·∫£nh, nguy√™n li·ªáu, v√† h∆∞·ªõng d·∫´n chi ti·∫øt
- **Upload ·∫£nh**: Ch·ª•p ho·∫∑c ch·ªçn ·∫£nh t·ª´ th∆∞ vi·ªán
- **C√¥ng th·ª©c c·ªßa t√¥i**: Qu·∫£n l√Ω t·∫•t c·∫£ c√¥ng th·ª©c ƒë√£ t·∫°o
- **Y√™u th√≠ch**: L∆∞u c√¥ng th·ª©c y√™u th√≠ch ƒë·ªÉ n·∫•u sau

### üîç T√¨m ki·∫øm & L·ªçc
- **T√¨m ki·∫øm th√¥ng minh**: T√¨m theo t√™n m√≥n, nguy√™n li·ªáu, tag
- **L·ªçc n√¢ng cao**: Theo danh m·ª•c, ƒë·ªô kh√≥, th·ªùi gian
- **L·ªãch s·ª≠ t√¨m ki·∫øm**: L∆∞u c√°c t·ª´ kh√≥a ƒë√£ t√¨m g·∫ßn ƒë√¢y
- **G·ª£i √Ω t√¨m ki·∫øm**: Suggestions d·ª±a tr√™n l·ªãch s·ª≠

### üë§ H·ªì s∆° & C·ªông ƒë·ªìng
- **Profile c√° nh√¢n**: Hi·ªÉn th·ªã th√¥ng tin, ·∫£nh ƒë·∫°i di·ªán, th·ªëng k√™
- **Theo d√µi**: Follow/Unfollow ƒë·∫ßu b·∫øp y√™u th√≠ch
- **ƒê√°nh gi√° & Review**: ƒê√°nh gi√° c√¥ng th·ª©c, ƒë·ªÉ l·∫°i b√¨nh lu·∫≠n
- **Xem profile ng∆∞·ªùi kh√°c**: Kh√°m ph√° c√¥ng th·ª©c c·ªßa c√°c chef kh√°c

### üõí Danh s√°ch Mua s·∫Øm
- **T·∫°o danh s√°ch**: T·ª´ c√¥ng th·ª©c ho·∫∑c t·ª± th√™m
- **Qu·∫£n l√Ω items**: Check/uncheck, th√™m, x√≥a
- **Chia s·∫ª danh s√°ch**: Share qua tin nh·∫Øn, email

### üîî Th√¥ng b√°o
- **Push Notifications**: Nh·∫≠n th√¥ng b√°o realtime
- **Nhi·ªÅu lo·∫°i th√¥ng b√°o**: 
  - Ng∆∞·ªùi kh√°c follow b·∫°n
  - C√≥ ng∆∞·ªùi like/comment c√¥ng th·ª©c
  - C√¥ng th·ª©c m·ªõi t·ª´ chef b·∫°n theo d√µi
- **C√†i ƒë·∫∑t th√¥ng b√°o**: T√πy ch·ªânh lo·∫°i th√¥ng b√°o nh·∫≠n

### üîê X√°c th·ª±c & B·∫£o m·∫≠t
- **ƒêƒÉng k√Ω/ƒêƒÉng nh·∫≠p**: Email/Password
- **Google Sign In**: ƒêƒÉng nh·∫≠p nhanh v·ªõi Google
- **Qu√™n m·∫≠t kh·∫©u**: Kh√¥i ph·ª•c qua email v·ªõi OTP
- **ƒê·ªïi m·∫≠t kh·∫©u**: C·∫≠p nh·∫≠t m·∫≠t kh·∫©u trong app

### üì± Giao di·ªán & UX
- **Material Design 3**: Giao di·ªán hi·ªán ƒë·∫°i, m∆∞·ª£t m√†
- **Custom Theme**: M√†u s·∫Øc nh·∫π nh√†ng, th√¢n thi·ªán
- **Animations**: Hi·ªáu ·ª©ng chuy·ªÉn trang, loading ƒë·∫πp m·∫Øt
- **Bottom Navigation**: ƒêi·ªÅu h∆∞·ªõng nhanh gi·ªØa c√°c trang ch√≠nh

## üì∏ Screenshots

```
[Th√™m screenshots c·ªßa app t·∫°i ƒë√¢y]
```

## üõ†Ô∏è Tech Stack

### Frontend (Flutter App)

#### Framework & Language
- **Flutter**: 3.24.0+
- **Dart**: 3.5.0+

#### State Management
- **Provider**: 6.1.1 - Qu·∫£n l√Ω state ƒë∆°n gi·∫£n, hi·ªáu qu·∫£
- **ValueNotifier**: Cho state c·ª•c b·ªô (shopping list, favorites)

#### UI Components
- **Material 3**: useMaterial3: true
- **google_fonts**: 6.1.0 - Custom fonts (Poppins)
- **flutter_svg**: 2.0.9 - SVG icons
- **animated_text_kit**: 4.2.2 - Text animations
- **google_nav_bar**: 5.0.7 - Custom bottom navigation
- **dotted_border**: 3.1.0 - UI decorations

#### Navigation
- Native Navigator v·ªõi named routes

#### Firebase Integration
- **firebase_core**: 3.8.0
- **firebase_auth**: 5.3.3 - Authentication
- **cloud_firestore**: 5.6.0 - Database (l∆∞u favorites)
- **firebase_storage**: 12.0.0 - L∆∞u tr·ªØ ·∫£nh
- **firebase_messaging**: 15.1.0 - Push notifications
- **flutter_local_notifications**: 17.2.1 - Local notifications

#### Image Handling
- **image_picker**: 1.1.2 - Ch·ªçn/ch·ª•p ·∫£nh
- File system caching cho offline support

#### Storage & Persistence
- **shared_preferences**: 2.2.2 - Local storage (token, settings, onboarding)

#### Authentication
- **google_sign_in**: 6.2.1 - Google OAuth
- JWT tokens cho API authentication

#### Network & API
- **http**: 1.1.2 - HTTP client cho REST API

#### Utilities
- **uuid**: 4.5.1 - Generate unique IDs
- **email_validator**: 2.1.17 - Validate email format
- **url_launcher**: 6.3.0 - Launch external URLs
- **share_plus**: 12.0.0 - Share content

### Backend (Node.js API)

#### Framework & Runtime
- **Node.js**: 18.0+
- **Express.js**: 5.1.0 - Web framework

#### Database
- **PostgreSQL**: 14+ - Relational database
- **Sequelize**: 6.37.7 - ORM
- **pg**: 8.16.3 - PostgreSQL client
- **pg-hstore**: 2.3.4 - JSON serialization

#### Authentication & Security
- **bcryptjs**: 3.0.2 - Password hashing
- **jsonwebtoken**: 9.0.2 - JWT authentication
- **passport**: 0.7.0 - Authentication middleware
- **passport-google-oauth20**: 2.0.0 - Google OAuth
- **passport-jwt**: 4.0.1 - JWT strategy
- **helmet**: 7.1.0 - Security headers
- **express-rate-limit**: 7.1.5 - Rate limiting
- **cors**: 2.8.5 - CORS handling

#### File Upload & Storage
- **multer**: 1.4.5-lts.1 - File upload middleware
- **cloudinary**: 2.7.0 - Cloud image storage & CDN

#### Email & Notifications
- **nodemailer**: 6.9.14 - Email service
- **firebase-admin**: 12.0.0 - FCM push notifications

#### Validation & Logging
- **express-validator**: 7.0.1 - Request validation
- **morgan**: 1.10.0 - HTTP request logger

#### Development
- **nodemon**: 3.1.10 - Auto-restart server
- **dotenv**: 17.2.3 - Environment variables

## üìã Y√™u c·∫ßu h·ªá th·ªëng

### Development Environment

#### Flutter Development
- **Flutter SDK**: >= 3.24.0
- **Dart SDK**: >= 3.5.0
- **Android Studio** ho·∫∑c **VS Code** v·ªõi Flutter extension
- **Xcode** 14+ (cho iOS development tr√™n macOS)
- **CocoaPods** (cho iOS dependencies)

#### Backend Development
- **Node.js**: >= 18.0
- **npm** ho·∫∑c **yarn**
- **PostgreSQL**: >= 14.0
- **Git**: ƒê·ªÉ qu·∫£n l√Ω source code

### Minimum Platform Versions
- **Android**: API Level 24 (Android 7.0+)
- **iOS**: 12.0+
- **Web**: Chrome, Firefox, Safari (modern browsers)

### Hardware Requirements
- **RAM**: T·ªëi thi·ªÉu 8GB (recommended 16GB)
- **Storage**: 10GB free space
- **Internet**: C·∫ßn k·∫øt n·ªëi ƒë·ªÉ sync d·ªØ li·ªáu

## üöÄ C√†i ƒë·∫∑t v√† Ch·∫°y d·ª± √°n

### 1. Clone Repository

```bash
git clone https://github.com/Sad3esuy/DA_App_XEMCook.git
cd DA_App_XEMCook
```

### 2. Setup Backend API

#### 2.1. Di chuy·ªÉn v√†o th∆∞ m·ª•c backend
```bash
cd xemcook_be_api
```

#### 2.2. C√†i ƒë·∫∑t dependencies
```bash
npm install
```

#### 2.3. C·∫•u h√¨nh Database
T·∫°o PostgreSQL database:
```sql
CREATE DATABASE xemcook_db;
```

#### 2.4. C·∫•u h√¨nh Environment Variables
T·∫°o file `.env` trong th∆∞ m·ª•c `xemcook_be_api/`:

```env
# Server Configuration
PORT=5000
NODE_ENV=development

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=xemcook_db
DB_USER=your_db_user
DB_PASSWORD=your_db_password

# JWT Secret
JWT_SECRET=your_super_secret_jwt_key_here_change_in_production
JWT_EXPIRES_IN=7d

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# Cloudinary (Image Upload)
CLOUDINARY_CLOUD_NAME=your_cloudinary_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# Email Service (Nodemailer)
EMAIL_SERVICE=gmail
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password

# Firebase Admin (Push Notifications)
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_CLIENT_EMAIL=your_firebase_client_email
FIREBASE_PRIVATE_KEY="your_firebase_private_key"

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000
```

#### 2.5. Ch·∫°y migrations (n·∫øu c√≥)
```bash
npm run migrate
# Ho·∫∑c
npx sequelize-cli db:migrate
```

#### 2.6. Kh·ªüi ƒë·ªông server
```bash
# Development mode
npm run dev

# Production mode
npm start
```

Server s·∫Ω ch·∫°y t·∫°i: `http://localhost:5000`

### 3. Setup Flutter App

#### 3.1. Di chuy·ªÉn v√†o th∆∞ m·ª•c Flutter
```bash
cd ../test_ui_app
```

#### 3.2. C√†i ƒë·∫∑t Flutter dependencies
```bash
flutter pub get
```

#### 3.3. C·∫•u h√¨nh Firebase

##### T·∫°o Firebase Project
1. Truy c·∫≠p [Firebase Console](https://console.firebase.google.com/)
2. T·∫°o project m·ªõi: **XEMCook**
3. Enable c√°c services:
   - **Authentication**: Email/Password, Google Sign-In
   - **Cloud Firestore**: Database cho favorites
   - **Storage**: L∆∞u tr·ªØ ·∫£nh
   - **Cloud Messaging**: Push notifications

##### C·∫•u h√¨nh Android
1. Trong Firebase Console, th√™m Android app
2. Package name: `com.example.test_ui_app` (ho·∫∑c theo config c·ªßa b·∫°n)
3. Download `google-services.json`
4. Copy v√†o `android/app/google-services.json`

##### C·∫•u h√¨nh iOS
1. Trong Firebase Console, th√™m iOS app
2. Bundle ID: `com.example.testUiApp` (ho·∫∑c theo config c·ªßa b·∫°n)
3. Download `GoogleService-Info.plist`
4. Copy v√†o `ios/Runner/GoogleService-Info.plist`
5. Ch·∫°y pod install:
```bash
cd ios
pod install
cd ..
```

#### 3.4. C·∫≠p nh·∫≠t API Base URL

M·ªü file `lib/services/auth_service.dart` v√† c·∫≠p nh·∫≠t baseUrl:

```dart
// Cho Android Emulator
static const String baseUrl = 'http://10.0.2.2:5000/api';

// Cho iOS Simulator
static const String baseUrl = 'http://localhost:5000/api';

// Cho device th·∫≠t (d√πng IP m√°y)
static const String baseUrl = 'http://192.168.1.x:5000/api';
```

T∆∞∆°ng t·ª± cho c√°c service kh√°c:
- `lib/services/recipe_api_service.dart`
- `lib/services/notification_api_service.dart`
- `lib/services/shopping_list_remote.dart`

#### 3.5. Ch·∫°y ·ª©ng d·ª•ng

##### Ki·ªÉm tra devices
```bash
flutter devices
```

##### Ch·∫°y tr√™n Android
```bash
# Debug mode
flutter run

# Release mode
flutter run --release

# Ch·ªçn device c·ª• th·ªÉ
flutter run -d <device-id>
```

##### Ch·∫°y tr√™n iOS
```bash
# M·ªü simulator
open -a Simulator

# Ch·∫°y app
flutter run

# Ch·∫°y tr√™n device c·ª• th·ªÉ
flutter run -d "iPhone 15 Pro"
```

##### Ch·∫°y tr√™n Chrome (Web)
```bash
flutter run -d chrome
```

## üèóÔ∏è C·∫•u tr√∫c Project

### Flutter App Structure
```
test_ui_app/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ main.dart                      # Entry point, Firebase init
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ model/                         # Data models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recipe.dart                # Recipe model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.dart                  # User model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.dart                  # Auth request/response
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ingredient.dart            # Ingredient model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ instruction.dart           # Instruction model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chef_profile.dart          # Chef profile model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collection.dart            # Recipe collection model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shopping_list.dart         # Shopping list model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shopping_item.dart         # Shopping item model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app_notification.dart      # Notification model
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notification_settings.dart # Settings model
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ home_feed.dart             # Home feed data model
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ screens/                       # UI Screens
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main_shell.dart            # Main navigation shell
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ home_screen.dart           # Home feed screen
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                      # Authentication screens
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ welcome_screen.dart    # Onboarding/Welcome
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login_screen.dart      # Login
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register_screen.dart   # Sign up
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forgot_password_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ verify_pin_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reset_password_screen.dart
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recipe/                    # Recipe screens
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recipe_detail_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recipe_form_screen.dart     # Create/Edit recipe
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recipe_collection_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my_recipes_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ favorite_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collection/            # Collection management
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ create_collection_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ collection_detail_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ add_recipe_to_collection_sheet.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reviews/               # Review & rating
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ recipe_reviews_screen.dart
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ recipe_review_form_screen.dart
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ widgets/
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search/                    # Search & discover
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ result_recipes_screen.dart
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shopping/                  # Shopping list
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shopping_list_screen.dart
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ add_to_list_bottom_sheet.dart
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications/             # Notifications
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notifications_screen.dart
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile/                   # Profile & settings
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ profile_screen.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ edit_profile_screen.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ chef_profile_screen.dart    # View other users
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ change_password_screen.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ notification_settings_screen.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ about_us_screen.dart
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ privacy_policy_screen.dart
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ widget/                # Profile widgets
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/                      # Business logic & API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_service.dart          # Auth API calls
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recipe_api_service.dart    # Recipe CRUD
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notification_api_service.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shopping_list_service.dart # Local shopping list
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shopping_list_remote.dart  # Remote shopping API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search_history_service.dart
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ favorite_state.dart        # Favorite state management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ push_notification_service.dart # FCM
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database/                  # Local database helpers
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ widgets/                       # Reusable widgets
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recipe_card.dart
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ my_recipe_cards.dart
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ theme/                         # App theming
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app_theme.dart
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ utils/                         # Utilities & helpers
‚îÇ
‚îú‚îÄ‚îÄ assets/                            # Static assets
‚îÇ   ‚îú‚îÄ‚îÄ images/                        # App images
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app_icon_v2.png
‚îÇ   ‚îî‚îÄ‚îÄ icons/                         # App icons
‚îÇ       ‚îî‚îÄ‚îÄ app_icon_v3.jpg
‚îÇ
‚îú‚îÄ‚îÄ android/                           # Android native code
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ google-services.json       # Firebase config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ build.gradle.kts
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle.kts
‚îÇ
‚îú‚îÄ‚îÄ ios/                               # iOS native code
‚îÇ   ‚îî‚îÄ‚îÄ Runner/
‚îÇ       ‚îî‚îÄ‚îÄ GoogleService-Info.plist   # Firebase config
‚îÇ
‚îú‚îÄ‚îÄ pubspec.yaml                       # Flutter dependencies
‚îî‚îÄ‚îÄ README.md
```

### Backend API Structure
```
xemcook_be_api/
‚îú‚îÄ‚îÄ server.js                          # Entry point
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.js                         # Express app setup
‚îÇ   ‚îî‚îÄ‚îÄ utils/                         # Shared utilities
‚îÇ
‚îú‚îÄ‚îÄ config/                            # Configurations
‚îÇ   ‚îú‚îÄ‚îÄ db.js                          # Sequelize database config
‚îÇ   ‚îî‚îÄ‚îÄ passport.js                    # Passport strategies
‚îÇ
‚îú‚îÄ‚îÄ models/                            # Sequelize models
‚îÇ   ‚îî‚îÄ‚îÄ Recipe.js                      # Recipe model (example)
‚îÇ
‚îú‚îÄ‚îÄ controllers/                       # Business logic
‚îÇ   ‚îú‚îÄ‚îÄ authController.js              # Auth logic
‚îÇ   ‚îú‚îÄ‚îÄ userController.js              # User CRUD
‚îÇ   ‚îú‚îÄ‚îÄ recipeController.js            # Recipe CRUD
‚îÇ   ‚îî‚îÄ‚îÄ notificationController.js      # Notification logic
‚îÇ
‚îú‚îÄ‚îÄ routes/                            # API routes
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                        # /api/auth/*
‚îÇ   ‚îú‚îÄ‚îÄ users.js                       # /api/users/*
‚îÇ   ‚îú‚îÄ‚îÄ recipes.js                     # /api/recipes/*
‚îÇ   ‚îî‚îÄ‚îÄ notifications.js               # /api/notifications/*
‚îÇ
‚îú‚îÄ‚îÄ middleware/                        # Custom middleware
‚îÇ   ‚îú‚îÄ‚îÄ auth.js                        # JWT verification
‚îÇ   ‚îú‚îÄ‚îÄ optionalAuth.js                # Optional auth
‚îÇ   ‚îî‚îÄ‚îÄ validateRequest.js             # Request validation
‚îÇ
‚îú‚îÄ‚îÄ validators/                        # Input validation schemas
‚îÇ   ‚îî‚îÄ‚îÄ authValidators.js
‚îÇ
‚îú‚îÄ‚îÄ utils/                             # Utilities
‚îÇ   ‚îú‚îÄ‚îÄ cloudinary.js                  # Image upload
‚îÇ   ‚îú‚îÄ‚îÄ emailService.js                # Send emails
‚îÇ   ‚îú‚îÄ‚îÄ firebaseAdmin.js               # Firebase admin SDK
‚îÇ   ‚îî‚îÄ‚îÄ notificationDispatcher.js      # Push notifications
‚îÇ
‚îú‚îÄ‚îÄ uploads/                           # Temporary file uploads
‚îÇ
‚îú‚îÄ‚îÄ package.json                       # Node dependencies
‚îî‚îÄ‚îÄ .env                               # Environment variables
```

## üß™ Testing

### Backend API Testing

#### S·ª≠ d·ª•ng Postman ho·∫∑c cURL

```bash
# Test server health
curl http://localhost:5000/api/auth/test

# Register new user
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123",
    "fullName": "Test User",
    "username": "testuser"
  }'

# Login
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123"
  }'
```

### Flutter Testing

#### Unit Tests
```bash
flutter test
```

#### Widget Tests
```bash
flutter test test/widget_test.dart
```

#### Integration Tests
```bash
flutter test integration_test
```

## üì¶ Build & Deploy

### Build Flutter App

#### Android APK
```bash
# Debug APK
flutter build apk --debug

# Release APK (split by ABI)
flutter build apk --release --split-per-abi

# Release APK (single file)
flutter build apk --release
```

Output: `build/app/outputs/flutter-apk/`

#### Android App Bundle (Google Play)
```bash
flutter build appbundle --release
```

Output: `build/app/outputs/bundle/release/app-release.aab`

#### iOS
```bash
# Build iOS
flutter build ios --release

# M·ªü Xcode ƒë·ªÉ archive
open ios/Runner.xcworkspace
```

Trong Xcode:
1. Product > Archive
2. Distribute App
3. Upload to App Store Connect

### Deploy Backend

#### Local/Development
```bash
npm run dev
```

#### Production (VPS/Cloud)

##### Using PM2
```bash
# C√†i ƒë·∫∑t PM2
npm install -g pm2

# Kh·ªüi ƒë·ªông app
pm2 start server.js --name xemcook-api

# Xem logs
pm2 logs xemcook-api

# Restart
pm2 restart xemcook-api

# Stop
pm2 stop xemcook-api
```

##### Using Docker
```dockerfile
# T·∫°o Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install --production
COPY . .
EXPOSE 5000
CMD ["npm", "start"]
```

```bash
# Build image
docker build -t xemcook-api .

# Run container
docker run -p 5000:5000 --env-file .env xemcook-api
```

## üîß Configuration

### Firebase Configuration

#### Enable Authentication Methods
1. Firebase Console > Authentication > Sign-in method
2. Enable:
   - Email/Password
   - Google

#### Firestore Security Rules
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Favorites collection
    match /favorites/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // User settings
    match /users/{userId} {
      allow read: if true;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

#### Storage Security Rules
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /recipes/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    match /profiles/{userId}/{allPaths=**} {
      allow read: if true;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

### Database Migrations

T·∫°o migrations v·ªõi Sequelize CLI:

```bash
# T·∫°o migration m·ªõi
npx sequelize-cli migration:generate --name create-users-table

# Ch·∫°y migrations
npx sequelize-cli db:migrate

# Rollback migration
npx sequelize-cli db:migrate:undo
```

## üêõ Troubleshooting

### Flutter Issues

#### 1. Pod install fails (iOS)
```bash
cd ios
rm -rf Pods Podfile.lock
pod cache clean --all
pod install --repo-update
cd ..
flutter clean
flutter pub get
```

#### 2. Gradle build fails (Android)
```bash
cd android
./gradlew clean
cd ..
flutter clean
flutter pub get
flutter build apk --debug
```

#### 3. Firebase kh√¥ng k·∫øt n·ªëi
- Ki·ªÉm tra `google-services.json` v√† `GoogleService-Info.plist`
- Verify package name/bundle ID match v·ªõi Firebase
- Rebuild app: `flutter clean && flutter run`

#### 4. Image picker kh√¥ng ho·∫°t ƒë·ªông

**Android**: Th√™m v√†o `AndroidManifest.xml`:
```xml
<uses-permission android:name="android.permission.CAMERA"/>
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
```

**iOS**: Th√™m v√†o `Info.plist`:
```xml
<key>NSCameraUsageDescription</key>
<string>Need camera access to take photos</string>
<key>NSPhotoLibraryUsageDescription</key>
<string>Need library access to select photos</string>
```

#### 5. API connection timeout
- Check baseUrl trong auth_service.dart
- Android Emulator: D√πng `10.0.2.2` thay v√¨ `localhost`
- iOS Simulator: D√πng `localhost` ho·∫∑c IP m√°y
- Real device: D√πng IP m√°y trong c√πng network

### Backend Issues

#### 1. Database connection error
```bash
# Check PostgreSQL ƒë√£ ch·∫°y ch∆∞a
sudo service postgresql status

# Restart PostgreSQL
sudo service postgresql restart

# Verify credentials trong .env
```

#### 2. JWT token expired
- Token m·∫∑c ƒë·ªãnh expire sau 7 ng√†y
- User c·∫ßn login l·∫°i
- C√≥ th·ªÉ tƒÉng `JWT_EXPIRES_IN` trong .env

#### 3. Cloudinary upload fails
- Verify credentials trong .env
- Check file size limit (default 10MB)
- Check internet connection

#### 4. Firebase Admin errors
- Verify service account credentials
- Check FIREBASE_PRIVATE_KEY format (ph·∫£i c√≥ quotes)
- Ensure Firebase Admin SDK enabled

#### 5. CORS errors
- Th√™m frontend URL v√†o CORS whitelist
- Check FRONTEND_URL trong .env
- Verify origin header trong request

## üìö API Documentation

### Base URL
```
http://localhost:5000/api
```

### Authentication Endpoints

#### Register
```http
POST /auth/register
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123",
  "fullName": "John Doe",
  "username": "johndoe"
}
```

#### Login
```http
POST /auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "password123"
}

Response:
{
  "token": "jwt_token_here",
  "user": {
    "id": 1,
    "email": "user@example.com",
    "fullName": "John Doe",
    ...
  }
}
```

#### Google Login
```http
POST /auth/google
Content-Type: application/json

{
  "idToken": "google_id_token"
}
```

### Recipe Endpoints

#### Get All Recipes
```http
GET /recipes
Authorization: Bearer {token}

Query params:
  - page: number (default 1)
  - limit: number (default 20)
  - category: string
  - search: string
```

#### Get Recipe Detail
```http
GET /recipes/:id
Authorization: Bearer {token} (optional)
```

#### Create Recipe
```http
POST /recipes
Authorization: Bearer {token}
Content-Type: multipart/form-data

Form data:
  - title: string
  - description: string
  - category: string
  - difficulty: string
  - cookingTime: number
  - servings: number
  - ingredients: JSON array
  - instructions: JSON array
  - image: file
```

#### Update Recipe
```http
PUT /recipes/:id
Authorization: Bearer {token}
```

#### Delete Recipe
```http
DELETE /recipes/:id
Authorization: Bearer {token}
```

### User Endpoints

#### Get User Profile
```http
GET /users/profile
Authorization: Bearer {token}
```

#### Update Profile
```http
PUT /users/profile
Authorization: Bearer {token}
```

#### Follow User
```http
POST /users/:id/follow
Authorization: Bearer {token}
```

### Notification Endpoints

#### Get Notifications
```http
GET /notifications
Authorization: Bearer {token}

Query params:
  - page: number
  - unreadOnly: boolean
```

#### Mark as Read
```http
PUT /notifications/:id/read
Authorization: Bearer {token}
```

## ü§ù Contributing

Contributions are welcome! Vui l√≤ng follow c√°c b∆∞·ªõc sau:

### Development Workflow
1. Fork repository
2. Create feature branch
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. Commit changes
   ```bash
   git commit -m 'Add some amazing feature'
   ```
4. Push to branch
   ```bash
   git push origin feature/amazing-feature
   ```
5. Open Pull Request

### Code Style

#### Flutter/Dart
- Follow [Effective Dart](https://dart.dev/guides/language/effective-dart)
- Use `flutter analyze` ƒë·ªÉ check issues
- Format code: `flutter format .`
- Naming:
  - Classes: PascalCase
  - Variables/Functions: camelCase
  - Constants: lowerCamelCase
  - Private: _prefixed

#### JavaScript/Node.js
- Follow [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript)
- Use ESLint
- Naming:
  - Variables/Functions: camelCase
  - Classes: PascalCase
  - Constants: UPPER_SNAKE_CASE

### Commit Messages
```
feat: Add new feature
fix: Bug fix
docs: Documentation update
style: Code style changes
refactor: Code refactoring
test: Add tests
chore: Build/config changes
```

## üìù Changelog

### Version 0.1.0 (Current)
- ‚úÖ Authentication system (Email, Google)
- ‚úÖ Recipe CRUD operations
- ‚úÖ Home feed with recipe discovery
- ‚úÖ Search and filter recipes
- ‚úÖ User profiles and follow system
- ‚úÖ Favorites with Firebase sync
- ‚úÖ Shopping list (local)
- ‚úÖ Push notifications
- ‚úÖ Recipe reviews and ratings
- ‚úÖ Collection management
- üöß Shopping list sync (in progress)
- üöß Meal planning (planned)

## üìÑ License

This project is currently proprietary. All rights reserved.

## üë• Team

### Development Team
- **Sadmesuy** - Full Stack Developer
  - GitHub: [@Sad3esuy](https://github.com/Sad3esuy)

## üôè Acknowledgments

- **Flutter Team** - Amazing cross-platform framework
- **Firebase** - Backend infrastructure
- **Node.js Community** - Server-side runtime
- **PostgreSQL** - Robust database system
- **Cloudinary** - Image CDN and storage
- **Material Design** - UI/UX guidelines

## üìû Support & Contact

- **Email**: support@xemcook.com *(t·∫°m th·ªùi ch∆∞a c√≥)*
- **GitHub Issues**: [DA_App_XEMCook/issues](https://github.com/Sad3esuy/DA_App_XEMCook/issues)
- **Repository**: [DA_App_XEMCook](https://github.com/Sad3esuy/DA_App_XEMCook)

## üó∫Ô∏è Roadmap

### Version 1.0 (MVP) - Q1 2025
- [x] Core authentication
- [x] Recipe management
- [x] Social features (follow, like)
- [x] Search and discovery
- [x] Push notifications
- [ ] Shopping list sync
- [ ] Performance optimization
- [ ] Unit & Integration tests

### Version 1.1 - Q2 2025
- [ ] Meal planning calendar
- [ ] Recipe import from URL
- [ ] Offline mode enhancement
- [ ] Multi-language support (English, Vietnamese)
- [ ] Dark mode theme
- [ ] Recipe video support

### Version 2.0 - Q3 2025
- [ ] AI recipe suggestions
- [ ] Nutrition tracking
- [ ] Voice-guided cooking
- [ ] Social recipe challenges
- [ ] Recipe marketplace
- [ ] Advanced analytics

### Future Ideas
- [ ] AR cooking instructions
- [ ] Smart kitchen device integration
- [ ] Ingredient price comparison
- [ ] Meal prep planning
- [ ] Dietary restrictions filtering

---

Made with ‚ù§Ô∏è by XEMCook Team | Flutter + Node.js + PostgreSQL + Firebase
